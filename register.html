<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles1.css">
</head>
<body>
    <form id="signup-form">
        <input type="text" id="username" placeholder="Username">
        <span class="error-message" id="username-error"></span>
    
        <input type="email" id="email" placeholder="Email address">
        <span class="error-message" id="email-error"></span>
    
        <input type="password" id="password" placeholder="Password">
        <span class="error-message" id="password-error"></span>
    
        <input type="password" id="verify-password" placeholder="Verify Password">
        <span class="error-message" id="verify-password-error"></span>
    
        <button type="submit">Sign Up</button>
    </form>
</body>
<script>
    document.getElementById('signup-form').addEventListener('submit', function(event) {
    // Ngăn chặn form submit mặc định
    event.preventDefault(); 
    
    // Khởi tạo biến để theo dõi trạng thái lỗi
    let isValid = true; 

    // Lấy giá trị từ các trường input
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();
    const verifyPassword = document.getElementById('verify-password').value.trim();

    // ----------------------------------------------------
    // 1. Kiểm tra Username (6 - 18 ký tự)
    // ----------------------------------------------------
    const usernameError = document.getElementById('username-error');
    if (username.length < 6 || username.length > 18) {
        usernameError.textContent = 'Username phải từ 6 đến 18 ký tự.';
        isValid = false;
    } else {
        usernameError.textContent = '';
    }

    // ----------------------------------------------------
    // 2. Kiểm tra Email (đúng định dạng)
    // ----------------------------------------------------
    const emailError = document.getElementById('email-error');
    // Regex đơn giản để kiểm tra định dạng email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    
    if (!emailRegex.test(email)) {
        emailError.textContent = 'Vui lòng nhập email hợp lệ.';
        isValid = false;
    } else {
        emailError.textContent = '';
    }

    // ----------------------------------------------------
    // 3. Kiểm tra Password (8 - 20 ký tự)
    // ----------------------------------------------------
    const passwordError = document.getElementById('password-error');
    if (password.length < 8 || password.length > 20) {
        passwordError.textContent = 'Password phải từ 8 đến 20 ký tự.';
        isValid = false;
    } else {
        passwordError.textContent = '';
    }

    // ----------------------------------------------------
    // 4. Kiểm tra Verify Password (phải trùng với password)
    // ----------------------------------------------------
    const verifyPasswordError = document.getElementById('verify-password-error');
    if (verifyPassword !== password) {
        verifyPasswordError.textContent = 'Mật khẩu xác nhận không trùng khớp.';
        isValid = false;
    } else {
        verifyPasswordError.textContent = '';
    }

    // ----------------------------------------------------
    // Kết thúc: Nếu không có lỗi, tiến hành submit/xử lý thành công
    // ----------------------------------------------------
    if (isValid) {
        alert('Đăng ký thành công! (Thực hiện submit dữ liệu tại đây)');
        // Ở đây, bạn có thể gửi dữ liệu lên server (Ví dụ: dùng fetch API)
        // event.target.submit(); // Nếu muốn submit form thật
    }
});
</script>
</html>